{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sujungchoi/Desktop/\\uD83D\\uDC69\\u200D\\uD83D\\uDCBBCodingDojo/MERN/Full_Stack_MERN/authors/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';import AuthorForm from'../components/AuthorForm';// eslint-disable-next-line\nexport default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),authors=_useState2[0],setAuthors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var createAuthor=function createAuthor(author){axios.post('http://localhost:8001/api/authors/new',author).then(function(res){console.log(res);navigate(\"/\");}).catch(function(err){console.log(err);var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}setErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"createPage\",children:[errors.map(function(err,index){return/*#__PURE__*/_jsxs(\"p\",{style:{\"color\":\"red\"},children:[\" \",err,\" \"]},index);}),/*#__PURE__*/_jsx(\"h1\",{children:\"Favorite Authors\"}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Home \"})}),/*#__PURE__*/_jsx(\"h4\",{style:{\"color\":\"rgb(107, 106, 106)\"},children:\"Add a new author:\"}),/*#__PURE__*/_jsx(AuthorForm,{onSubmitProp:createAuthor,initialName:\"\",initialGenre:\"\",initialDesc:\"\"})]});});","map":{"version":3,"sources":["/Users/sujungchoi/Desktop/👩‍💻CodingDojo/MERN/Full_Stack_MERN/authors/client/src/views/Create.jsx"],"names":["React","useState","Link","navigate","axios","AuthorForm","authors","setAuthors","errors","setErrors","createAuthor","author","post","then","res","console","log","catch","err","errorResponse","response","data","errorArr","Object","keys","key","push","message","map","index"],"mappings":"qTAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA;AACA,eAAe,UAAM,eACWJ,QAAQ,CAAC,EAAD,CADnB,wCACZK,OADY,eACHC,UADG,8BAESN,QAAQ,CAAC,EAAD,CAFjB,yCAEZO,MAFY,eAEJC,SAFI,eAInB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,MAAD,CAAY,CAC/BP,KAAK,CAACQ,IAAN,CAAW,uCAAX,CAAoDD,MAApD,EACCE,IADD,CACM,SAAAC,GAAG,CAAG,CACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAX,QAAQ,CAAC,GAAD,CAAR,CACH,CAJD,EAKCc,KALD,CAKO,SAAAC,GAAG,CAAE,CAAEH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACZ,GAAMC,CAAAA,aAAa,CAAGD,GAAG,CAACE,QAAJ,CAAaC,IAAb,CAAkBb,MAAxC,CACA,GAAMc,CAAAA,QAAQ,CAAG,EAAjB,CACA,0BAAkBC,MAAM,CAACC,IAAP,CAAYL,aAAZ,CAAlB,6BAA8C,CAAzC,GAAMM,CAAAA,GAAG,iBAAT,CACDH,QAAQ,CAACI,IAAT,CAAcP,aAAa,CAACM,GAAD,CAAb,CAAmBE,OAAjC,EACH,CACDlB,SAAS,CAACa,QAAD,CAAT,CACH,CAZC,EAaH,CAdC,CAiBA,mBACE,aAAK,SAAS,CAAC,YAAf,WACGd,MAAM,CAACoB,GAAP,CAAW,SAACV,GAAD,CAAMW,KAAN,qBAAgB,WAAG,KAAK,CAAE,CAAC,QAAS,KAAV,CAAV,eAA0CX,GAA1C,OAAiCW,KAAjC,CAAhB,EAAX,CADH,cAEE,wCAFF,cAGE,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,oBAAJ,EAHF,cAIE,WAAI,KAAK,CAAE,CAAC,QAAS,oBAAV,CAAX,+BAJF,cAME,KAAC,UAAD,EAAY,YAAY,CAAEnB,YAA1B,CAAwC,WAAW,CAAC,EAApD,CAAuD,YAAY,CAAC,EAApE,CAAuE,WAAW,CAAC,EAAnF,EANF,GADF,CAUD,CA/BD","sourcesContent":["import React, {useState} from 'react';\nimport { Link, navigate } from '@reach/router';\nimport axios from 'axios';\nimport AuthorForm from '../components/AuthorForm';\n\n// eslint-disable-next-line\nexport default () => {\n  const [authors, setAuthors] = useState([]);\n  const [errors, setErrors] = useState([]); \n\n  const createAuthor = (author) => {\n    axios.post('http://localhost:8001/api/authors/new', author)\n    .then(res=> {\n        console.log(res)\n        navigate(\"/\")\n    })\n    .catch(err=>{ console.log(err)\n      const errorResponse = err.response.data.errors; \n      const errorArr = []; \n      for (const key of Object.keys(errorResponse)) { \n          errorArr.push(errorResponse[key].message)\n      }\n      setErrors(errorArr);\n  });\n}\n\n\n  return (\n    <div className=\"createPage\">\n      {errors.map((err, index) => <p style={{\"color\": \"red\"}} key={index}> {err} </p>)}\n      <h1>Favorite Authors</h1>\n      <h5><Link to='/'> Home </Link></h5>\n      <h4 style={{\"color\": \"rgb(107, 106, 106)\"}}>Add a new author:</h4>\n\n      <AuthorForm onSubmitProp={createAuthor} initialName=\"\" initialGenre=\"\" initialDesc=\"\" />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}