{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sujungchoi/Desktop/\\uD83D\\uDC69\\u200D\\uD83D\\uDCBBCodingDojo/MERN/Full_Stack_MERN/authors/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{navigate,Link}from'@reach/router';// eslint-disable-next-line\nexport default(function(props){var initialName=props.initialName,initialGenre=props.initialGenre,initialDesc=props.initialDesc,onSubmitProp=props.onSubmitProp;//keep track of what is being typed via useState hook\nvar _useState=useState(initialName),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(initialDesc),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],setDesc=_useState4[1];var _useState5=useState(initialGenre),_useState6=_slicedToArray(_useState5,2),genre=_useState6[0],setGenre=_useState6[1];// const [errors, setErrors] = useState([]);\n//handler when the form is submitted\nvar onSubmitHandler=function onSubmitHandler(e){//prevent default behavior of the submit\ne.preventDefault();//make a post request to create a new person\nonSubmitProp({name:name,genre:genre,desc:desc});setName(\"\");};return/*#__PURE__*/_jsxs(\"form\",{className:\"formGroup\",onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setName(e.target.value);},value:name,className:\"form-control\",id:\"name\",placeholder:\"ex) Ernest Hemingway\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setGenre(e.target.value);},name:\"select\",value:genre,children:[/*#__PURE__*/_jsx(\"option\",{value:\"essay\",children:\"essay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fiction\",children:\"fiction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"memoir\",children:\"memoir\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mystery\",children:\"mystery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sci-fi\",children:\"sci-fi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"poetry\",children:\"poetry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"crime/detective\",children:\"crime/detective\"}),/*#__PURE__*/_jsx(\"option\",{value:\"can't define\",children:\"can't define\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){return setDesc(e.target.value);},rows:\"4\",cols:\"50\",className:\"form-control\",value:desc})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(Link,{style:{\"color\":\"white\"},to:\"/\",children:\" Cancel \"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});});// backup\n// import React, { useState } from 'react'\n// import axios from 'axios';\n// import {navigate, Link} from '@reach/router'\n//     // eslint-disable-next-line\n// export default () => {\n//     //keep track of what is being typed via useState hook\n//     const [name, setName] = useState(\"\"); \n//     const [errors, setErrors] = useState([]);\n//     //handler when the form is submitted\n//     const onSubmitHandler = e => {\n//         //prevent default behavior of the submit\n//         e.preventDefault();\n//         //make a post request to create a new person\n//         axios.post('http://localhost:8001/api/authors/new', {name})\n//             .then(res=> {\n//                 console.log(res)\n//                 navigate(\"/\")\n//             })\n//             .catch(err=>{ console.log(err)\n//                 const errorResponse = err.response.data.errors; \n//                 const errorArr = []; \n//                 for (const key of Object.keys(errorResponse)) { \n//                     errorArr.push(errorResponse[key].message)\n//                 }\n//                 setErrors(errorArr);\n//             });\n//     }\n//     return (\n//         <form className=\"formGroup\" onSubmit={onSubmitHandler}>\n//             {errors.map((err, index) => <p style={{\"color\": \"red\"}} key={index}> {err} </p>)}\n//             <div className=\"form-group\">\n//                 <label HtmlFor=\"name\">Name:</label>\n//                 <input type=\"text\" \n//                 onChange={(e) => setName(e.target.value)} \n//                 value={name} \n//                 className=\"form-control\" id=\"name\" placeholder=\"ex) Ernest Hemingway\" />\n//             </div>\n//             <div>\n//                 <button class=\"btn btn-primary\"><Link style={{\"color\": \"white\"}} to='/'> Cancel </Link></button>\n//                 <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n//             </div>\n//         </form>\n//     )\n// }","map":{"version":3,"sources":["/Users/sujungchoi/Desktop/👩‍💻CodingDojo/MERN/Full_Stack_MERN/authors/client/src/components/AuthorForm.jsx"],"names":["React","useState","axios","navigate","Link","props","initialName","initialGenre","initialDesc","onSubmitProp","name","setName","desc","setDesc","genre","setGenre","onSubmitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios';\nimport {navigate, Link} from '@reach/router'\n\n    // eslint-disable-next-line\nexport default (props) => {\n    const { initialName, initialGenre, initialDesc, onSubmitProp } = props;\n    //keep track of what is being typed via useState hook\n    const [name, setName] = useState(initialName); \n    const [desc, setDesc] = useState(initialDesc); \n    const [genre, setGenre] = useState(initialGenre); \n    // const [errors, setErrors] = useState([]);\n    //handler when the form is submitted\n    const onSubmitHandler = e => {\n        //prevent default behavior of the submit\n        e.preventDefault();\n        //make a post request to create a new person\n        onSubmitProp({name, genre, desc});\n        setName(\"\");\n    }\n\n    return (\n\n        <form className=\"formGroup\" onSubmit={onSubmitHandler}>\n\n            <div className=\"form-group\">\n                <label htmlFor=\"name\">Name:</label>\n                <input type=\"text\" \n                onChange={(e) => setName(e.target.value)} \n                value={name} \n                className=\"form-control\" id=\"name\" placeholder=\"ex) Ernest Hemingway\" />\n\n                <select onChange={(e)=>setGenre(e.target.value)} name=\"select\" value={genre} >\n                    <option value=\"essay\" >essay</option>\n                    <option value=\"fiction\" >fiction</option>\n                    <option value=\"memoir\">memoir</option>\n                    <option value=\"mystery\">mystery</option>\n                    <option value=\"sci-fi\">sci-fi</option>\n                    <option value=\"poetry\">poetry</option>\n                    <option value=\"crime/detective\">crime/detective</option>\n                    <option value=\"can't define\">can't define</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label>Description:</label>\n                <textarea \n                onChange={(e) => setDesc(e.target.value)}\n                rows=\"4\" cols=\"50\" className=\"form-control\" value={desc}></textarea>\n            </div>\n            <div>\n                <button className=\"btn btn-primary\"><Link style={{\"color\": \"white\"}} to='/'> Cancel </Link></button>\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n        </form>\n\n    )\n}\n\n// backup\n// import React, { useState } from 'react'\n// import axios from 'axios';\n// import {navigate, Link} from '@reach/router'\n\n//     // eslint-disable-next-line\n// export default () => {\n//     //keep track of what is being typed via useState hook\n//     const [name, setName] = useState(\"\"); \n//     const [errors, setErrors] = useState([]);\n//     //handler when the form is submitted\n//     const onSubmitHandler = e => {\n//         //prevent default behavior of the submit\n//         e.preventDefault();\n//         //make a post request to create a new person\n//         axios.post('http://localhost:8001/api/authors/new', {name})\n//             .then(res=> {\n//                 console.log(res)\n//                 navigate(\"/\")\n//             })\n//             .catch(err=>{ console.log(err)\n//                 const errorResponse = err.response.data.errors; \n//                 const errorArr = []; \n//                 for (const key of Object.keys(errorResponse)) { \n//                     errorArr.push(errorResponse[key].message)\n//                 }\n//                 setErrors(errorArr);\n//             });\n//     }\n\n//     return (\n\n//         <form className=\"formGroup\" onSubmit={onSubmitHandler}>\n\n//             {errors.map((err, index) => <p style={{\"color\": \"red\"}} key={index}> {err} </p>)}\n\n//             <div className=\"form-group\">\n//                 <label HtmlFor=\"name\">Name:</label>\n//                 <input type=\"text\" \n//                 onChange={(e) => setName(e.target.value)} \n//                 value={name} \n//                 className=\"form-control\" id=\"name\" placeholder=\"ex) Ernest Hemingway\" />\n//             </div>\n//             <div>\n//                 <button class=\"btn btn-primary\"><Link style={{\"color\": \"white\"}} to='/'> Cancel </Link></button>\n//                 <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n//             </div>\n//         </form>\n\n//     )\n// }\n"]},"metadata":{},"sourceType":"module"}